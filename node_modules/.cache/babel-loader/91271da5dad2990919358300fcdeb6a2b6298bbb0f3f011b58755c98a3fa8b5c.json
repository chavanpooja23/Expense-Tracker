{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext } from \"react\";\nimport { ExpenseTrackerContext } from \"./context/context\";\nimport { incomeCategories, expenseCategories, resetCategories } from './constants/categories';\nconst useTransactions = title => {\n  _s();\n  resetCategories();\n  const {\n    transactions\n  } = useContext(ExpenseTrackerContext);\n  const transactionsType = transactions.filter(t => t.type === title);\n  const total = transactionsType.reduce((acc, currVal) => acc += currVal.amount, 0);\n  const categories = title === 'Income' ? incomeCategories : expenseCategories;\n  transactionsType.forEach(t => {\n    const category = categories.find(c => c.type === t.category);\n    if (category) category.amount += t.amount;\n  });\n  const filteredCategories = categories.filter(c => c.amount > 0);\n  const chartData = {\n    labels: filteredCategories.map(c => c.type),\n    datasets: [{\n      data: filteredCategories.map(c => c.amount),\n      backgroundColor: filteredCategories.map(c => c.color)\n    }]\n  };\n  return {\n    total,\n    chartData\n  };\n};\n_s(useTransactions, \"Ni2LnfH2vyq3Bhy/VEUHhQfs92s=\");\nexport default useTransactions;","map":{"version":3,"names":["useContext","ExpenseTrackerContext","incomeCategories","expenseCategories","resetCategories","useTransactions","title","_s","transactions","transactionsType","filter","t","type","total","reduce","acc","currVal","amount","categories","forEach","category","find","c","filteredCategories","chartData","labels","map","datasets","data","backgroundColor","color"],"sources":["/Users/Administrator/Desktop/STUDY/JavaScript/budget-tracker/src/useTransactions.js"],"sourcesContent":["import { useContext } from \"react\";\nimport { ExpenseTrackerContext } from \"./context/context\";\n\nimport { incomeCategories, expenseCategories, resetCategories } from './constants/categories';\n\nconst useTransactions = (title) => {\n    resetCategories();\n    const { transactions } = useContext(ExpenseTrackerContext);\n    const transactionsType = transactions.filter((t) => t.type === title);\n    const total = transactionsType.reduce((acc, currVal) => acc += currVal.amount, 0);\n    const categories = title === 'Income' ? incomeCategories : expenseCategories;\n    \n    transactionsType.forEach((t) => {\n        const category = categories.find((c) => c.type === t.category)\n        \n        if(category) category.amount += t.amount;\n    });\n\n    const filteredCategories = categories.filter((c) => c.amount > 0);\n\n    const chartData = {\n        labels: filteredCategories.map((c) => c.type),\n        datasets: [{\n            data: filteredCategories.map((c) => c.amount),\n            backgroundColor: filteredCategories.map((c) => c.color)\n        }]\n    }\n\n    return { total, chartData }\n}\n\nexport default useTransactions;"],"mappings":";AAAA,SAASA,UAAU,QAAQ,OAAO;AAClC,SAASC,qBAAqB,QAAQ,mBAAmB;AAEzD,SAASC,gBAAgB,EAAEC,iBAAiB,EAAEC,eAAe,QAAQ,wBAAwB;AAE7F,MAAMC,eAAe,GAAIC,KAAK,IAAK;EAAAC,EAAA;EAC/BH,eAAe,CAAC,CAAC;EACjB,MAAM;IAAEI;EAAa,CAAC,GAAGR,UAAU,CAACC,qBAAqB,CAAC;EAC1D,MAAMQ,gBAAgB,GAAGD,YAAY,CAACE,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,KAAKN,KAAK,CAAC;EACrE,MAAMO,KAAK,GAAGJ,gBAAgB,CAACK,MAAM,CAAC,CAACC,GAAG,EAAEC,OAAO,KAAKD,GAAG,IAAIC,OAAO,CAACC,MAAM,EAAE,CAAC,CAAC;EACjF,MAAMC,UAAU,GAAGZ,KAAK,KAAK,QAAQ,GAAGJ,gBAAgB,GAAGC,iBAAiB;EAE5EM,gBAAgB,CAACU,OAAO,CAAER,CAAC,IAAK;IAC5B,MAAMS,QAAQ,GAAGF,UAAU,CAACG,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACV,IAAI,KAAKD,CAAC,CAACS,QAAQ,CAAC;IAE9D,IAAGA,QAAQ,EAAEA,QAAQ,CAACH,MAAM,IAAIN,CAAC,CAACM,MAAM;EAC5C,CAAC,CAAC;EAEF,MAAMM,kBAAkB,GAAGL,UAAU,CAACR,MAAM,CAAEY,CAAC,IAAKA,CAAC,CAACL,MAAM,GAAG,CAAC,CAAC;EAEjE,MAAMO,SAAS,GAAG;IACdC,MAAM,EAAEF,kBAAkB,CAACG,GAAG,CAAEJ,CAAC,IAAKA,CAAC,CAACV,IAAI,CAAC;IAC7Ce,QAAQ,EAAE,CAAC;MACPC,IAAI,EAAEL,kBAAkB,CAACG,GAAG,CAAEJ,CAAC,IAAKA,CAAC,CAACL,MAAM,CAAC;MAC7CY,eAAe,EAAEN,kBAAkB,CAACG,GAAG,CAAEJ,CAAC,IAAKA,CAAC,CAACQ,KAAK;IAC1D,CAAC;EACL,CAAC;EAED,OAAO;IAAEjB,KAAK;IAAEW;EAAU,CAAC;AAC/B,CAAC;AAAAjB,EAAA,CAxBKF,eAAe;AA0BrB,eAAeA,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}