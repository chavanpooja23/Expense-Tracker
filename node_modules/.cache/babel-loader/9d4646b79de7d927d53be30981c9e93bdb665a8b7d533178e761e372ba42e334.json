{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext } from 'react';\nimport { ExpenseTrackerContext } from './context/context';\nimport { incomeCategories, expenseCategories, resetCategories } from './constants/categories';\nconst isValidData = data => {\n  if (!data.labels || !data.datasets) {\n    return false;\n  }\n  return true;\n};\nconst useTransactions = title => {\n  _s();\n  resetCategories();\n  const {\n    transactions\n  } = useContext(ExpenseTrackerContext);\n  const rightTransactions = transactions.filter(t => t.type === title);\n  const total = rightTransactions.reduce((acc, currVal) => acc += currVal.amount, 0);\n  const categories = title === 'Income' ? incomeCategories : expenseCategories;\n  rightTransactions.forEach(t => {\n    const category = categories.find(c => c.type === t.category);\n    if (category) category.amount += t.amount;\n  });\n  const filteredCategories = categories.filter(sc => sc.amount > 0);\n  const chartData = {\n    datasets: [{\n      data: filteredCategories.map(c => c.amount),\n      backgroundColor: filteredCategories.map(c => c.color)\n    }],\n    labels: filteredCategories.map(c => c.type)\n  };\n  if (isValidData(chartData)) {\n    return {\n      chartData,\n      total\n    };\n  } else {\n    return {\n      total\n    };\n  }\n  //return { filteredCategories, total, chartData };\n};\n_s(useTransactions, \"Ni2LnfH2vyq3Bhy/VEUHhQfs92s=\");\nexport default useTransactions;","map":{"version":3,"names":["useContext","ExpenseTrackerContext","incomeCategories","expenseCategories","resetCategories","isValidData","data","labels","datasets","useTransactions","title","_s","transactions","rightTransactions","filter","t","type","total","reduce","acc","currVal","amount","categories","forEach","category","find","c","filteredCategories","sc","chartData","map","backgroundColor","color"],"sources":["/Users/Administrator/Desktop/STUDY/JavaScript/budget-tracker/src/useTransactions.js"],"sourcesContent":["import { useContext } from 'react';\nimport { ExpenseTrackerContext } from './context/context';\n\nimport { incomeCategories, expenseCategories, resetCategories } from './constants/categories';\n\nconst isValidData = (data) => {\n    if(!data.labels || !data.datasets) {\n      return false;\n    }\n  \n    return true; \n  }\n\nconst useTransactions = (title) => {\n  resetCategories();\n  const { transactions } = useContext(ExpenseTrackerContext);\n  const rightTransactions = transactions.filter((t) => t.type === title);\n  const total = rightTransactions.reduce((acc, currVal) => acc += currVal.amount, 0);\n  const categories = title === 'Income' ? incomeCategories : expenseCategories;\n\n  rightTransactions.forEach((t) => {\n    const category = categories.find((c) => c.type === t.category);\n\n    if (category) category.amount += t.amount;\n  });\n\n  const filteredCategories = categories.filter((sc) => sc.amount > 0);\n\n  const chartData = {\n    datasets: [{\n      data: filteredCategories.map((c) => c.amount),\n      backgroundColor: filteredCategories.map((c) => c.color),\n    }],\n    labels: filteredCategories.map((c) => c.type),\n  };\n  if(isValidData(chartData)) {\n    return {chartData, total}\n  } else {\n    return {total} \n  }\n  //return { filteredCategories, total, chartData };\n};\n\nexport default useTransactions;"],"mappings":";AAAA,SAASA,UAAU,QAAQ,OAAO;AAClC,SAASC,qBAAqB,QAAQ,mBAAmB;AAEzD,SAASC,gBAAgB,EAAEC,iBAAiB,EAAEC,eAAe,QAAQ,wBAAwB;AAE7F,MAAMC,WAAW,GAAIC,IAAI,IAAK;EAC1B,IAAG,CAACA,IAAI,CAACC,MAAM,IAAI,CAACD,IAAI,CAACE,QAAQ,EAAE;IACjC,OAAO,KAAK;EACd;EAEA,OAAO,IAAI;AACb,CAAC;AAEH,MAAMC,eAAe,GAAIC,KAAK,IAAK;EAAAC,EAAA;EACjCP,eAAe,CAAC,CAAC;EACjB,MAAM;IAAEQ;EAAa,CAAC,GAAGZ,UAAU,CAACC,qBAAqB,CAAC;EAC1D,MAAMY,iBAAiB,GAAGD,YAAY,CAACE,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,KAAKN,KAAK,CAAC;EACtE,MAAMO,KAAK,GAAGJ,iBAAiB,CAACK,MAAM,CAAC,CAACC,GAAG,EAAEC,OAAO,KAAKD,GAAG,IAAIC,OAAO,CAACC,MAAM,EAAE,CAAC,CAAC;EAClF,MAAMC,UAAU,GAAGZ,KAAK,KAAK,QAAQ,GAAGR,gBAAgB,GAAGC,iBAAiB;EAE5EU,iBAAiB,CAACU,OAAO,CAAER,CAAC,IAAK;IAC/B,MAAMS,QAAQ,GAAGF,UAAU,CAACG,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACV,IAAI,KAAKD,CAAC,CAACS,QAAQ,CAAC;IAE9D,IAAIA,QAAQ,EAAEA,QAAQ,CAACH,MAAM,IAAIN,CAAC,CAACM,MAAM;EAC3C,CAAC,CAAC;EAEF,MAAMM,kBAAkB,GAAGL,UAAU,CAACR,MAAM,CAAEc,EAAE,IAAKA,EAAE,CAACP,MAAM,GAAG,CAAC,CAAC;EAEnE,MAAMQ,SAAS,GAAG;IAChBrB,QAAQ,EAAE,CAAC;MACTF,IAAI,EAAEqB,kBAAkB,CAACG,GAAG,CAAEJ,CAAC,IAAKA,CAAC,CAACL,MAAM,CAAC;MAC7CU,eAAe,EAAEJ,kBAAkB,CAACG,GAAG,CAAEJ,CAAC,IAAKA,CAAC,CAACM,KAAK;IACxD,CAAC,CAAC;IACFzB,MAAM,EAAEoB,kBAAkB,CAACG,GAAG,CAAEJ,CAAC,IAAKA,CAAC,CAACV,IAAI;EAC9C,CAAC;EACD,IAAGX,WAAW,CAACwB,SAAS,CAAC,EAAE;IACzB,OAAO;MAACA,SAAS;MAAEZ;IAAK,CAAC;EAC3B,CAAC,MAAM;IACL,OAAO;MAACA;IAAK,CAAC;EAChB;EACA;AACF,CAAC;AAACN,EAAA,CA5BIF,eAAe;AA8BrB,eAAeA,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}